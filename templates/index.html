{% extends "base.html" %}
{% block content %}
<h1 class="text-center mb-4">Search News Articles</h1>
<div class="card p-4 shadow-sm">
    <form method="POST" class="row g-3">
        <div class="col-md-6">
            <label for="query" class="form-label">Search Query</label>
            <input type="text" id="query" name="query" class="form-control" value="{{ query }}" placeholder="e.g., AI, Climate Change">
        </div>
        <div class="col-md-3">
            <label for="from_date" class="form-label">From Date</label>
            <input type="date" id="from_date" name="from_date" class="form-control">
        </div>
        <div class="col-md-3">
            <label for="to_date" class="form-label">To Date</label>
            <input type="date" id="to_date" name="to_date" class="form-control">
        </div>
        <div class="col-md-6">
            <label for="sort_by" class="form-label">Sort By</label>
            <select id="sort_by" name="sort_by" class="form-select">
                <option value="publishedAt">Published Date</option>
                <option value="relevancy">Relevancy</option>
                <option value="popularity">Popularity</option>
            </select>
        </div>
        <div class="col-md-12 text-center">
            <button type="submit" class="btn btn-primary">Search</button>
        </div>
    </form>
</div>

<div class="row mt-4">
    {% if articles %}
        {% for article in articles %}
        <div class="col-md-6 col-lg-4 mb-4">
            <div class="card h-100 shadow-sm">
                <img src="{{ article.urlToImage }}" class="card-img-top" alt="Image unavailable">
                <div class="card-body">
                    <h5 class="card-title">{{ article.title }}</h5>
                    <p class="card-text">{{ article.description }}</p>
                    <a href="{{ article.url }}" target="_blank" class="btn btn-outline-primary">Read More</a>
                </div>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p class="text-center">No articles found. Try a different query or date range!</p>
    {% endif %}
</div>
{% endblock %}
